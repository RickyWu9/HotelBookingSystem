# 需求规格说明模板
## 更新记录

| 时间      | 更新人 | 更新内容                                     |
| :-------- | ------ | -------------------------------------------- |
| 2020.4.11 | 陈子合 | 功能需求3.2.1，3.2.8，3.2.9                  |
| 2020.4.12 | 陈子合 | 数据需求3.4，其他需求3.5                     |
| 2020.4.15 | 邱星曜 | 功能需求3.2.2，3.2.3，3.2.4                  |
| 2020.4.15 | 邱星曜 | 对外接口需求3.1.1，3.1.2                     |
| 2020.4.16 | 刘学卓 | 非功能需求，功能需求3.2.10，3.2.11，3.2.12   |
| 2020.4.16 | 张卓楠 | 引言，总体描述，功能需求3.2.5 ，3.2.6，3.2.7 |
| 2020.4.17 | 邱星曜 | 部分细节修改                                 |
| 2020.6.20 | 邱星曜 | 更新文档                                     |

## 目录
<!-- TOC -->

- [需求规格说明模板](#需求规格说明模板)
    - [更新记录](#更新记录)
    - [目录](#目录)
    - [1. 引言](#1-引言)
        - [1.1. 目的](#11-目的)
        - [1.2. 范围](#12-范围)
        - [1.3. 参考文献](#13-参考文献)
    - [2. 总体描述](#2-总体描述)
        - [2.1. 项目前景](#21-项目前景)
            - [2.1.1. 背景与机遇](#211-背景与机遇)
            - [2.1.2. 业务需求](#212-业务需求)
        - [2.2. 项目功能](#22-项目功能)
        - [2.3. 用户特征](#23-用户特征)
        - [2.4. 约束](#24-约束)
        - [2.5. 假设与依赖](#25-假设与依赖)
    - [3. 详细需求描述](#3-详细需求描述)
        - [3.1. 对外接口需求](#31-对外接口需求)
            - [3.1.1. 用户界面](#311-用户界面)
            - [3.1.2. 通信接口](#312-通信接口)
        - [3.2. 功能需求](#32-功能需求)
            - [3.2.1. 用户基本信息管理](#321-用户基本信息管理)
                - [3.2.1.1. 特征描述](#3211-特征描述)
                - [3.2.1.2. 刺激/响应序列](#3212-刺激响应序列)
                - [3.2.1.3. 相关功能需求](#3213-相关功能需求)
            - [3.2.2. 注册会员](#322-注册会员)
                - [3.2.2.1. 特征描述](#3221-特征描述)
                - [3.2.2.2. 刺激/响应序列](#3222-刺激响应序列)
                - [3.2.2.3. 相关功能需求](#3223-相关功能需求)
            - [3.2.3. 浏览酒店信息](#323-浏览酒店信息)
                - [3.2.3.1. 特征描述](#3231-特征描述)
                - [3.2.3.2. 刺激/相应序列](#3232-刺激相应序列)
                - [3.2.3.3. 相关功能需求](#3233-相关功能需求)
            - [3.2.4. 管理收藏夹](#324-管理收藏夹)
                - [3.2.4.1. 特征描述](#3241-特征描述)
                - [3.2.4.2. 刺激/相应序列](#3242-刺激相应序列)
                - [3.2.4.3. 相关功能需求](#3243-相关功能需求)
            - [3.2.5. 预订酒店](#325-预订酒店)
                - [3.2.5.1. 特征描述](#3251-特征描述)
                - [3.2.5.2. 刺激/相应序列](#3252-刺激相应序列)
                - [3.2.5.3. 相关功能需求](#3253-相关功能需求)
            - [3.2.6. 查看订单](#326-查看订单)
                - [3.2.6.1. 特征描述](#3261-特征描述)
                - [3.2.6.2. 刺激/相应序列](#3262-刺激相应序列)
                - [3.2.6.3. 相关功能需求](#3263-相关功能需求)
            - [3.2.7. 取消订单](#327-取消订单)
                - [3.2.7.1. 特征描述](#3271-特征描述)
                - [3.2.7.2. 刺激/相应序列](#3272-刺激相应序列)
                - [3.2.7.3. 相关功能需求](#3273-相关功能需求)
            - [3.2.8. 工作人员基本信息管理](#328-工作人员基本信息管理)
                - [3.2.8.1. 特征描述](#3281-特征描述)
                - [3.2.8.2. 刺激/响应序列](#3282-刺激响应序列)
                - [3.2.8.3. 相关功能需求](#3283-相关功能需求)
            - [3.2.9. 维护酒店基本信息](#329-维护酒店基本信息)
                - [3.2.9.1. 特征描述](#3291-特征描述)
                - [3.2.9.2. 刺激/响应序列](#3292-刺激响应序列)
                - [3.2.9.3. 相关功能需求](#3293-相关功能需求)
            - [3.2.10. 管理客房信息](#3210-管理客房信息)
                - [3.2.10.1. 特征描述](#32101-特征描述)
                - [3.2.10.2. 刺激/响应序列](#32102-刺激响应序列)
                - [3.2.10.3. 相关功能需求](#32103-相关功能需求)
            - [3.2.11. 制定酒店促销策略](#3211-制定酒店促销策略)
                - [3.2.11.1. 特征描述](#32111-特征描述)
                - [3.2.11.2. 刺激/响应序列](#32112-刺激响应序列)
                - [3.2.11.3. 相关功能需求](#32113-相关功能需求)
            - [3.2.12. 更新退房信息](#3212-更新退房信息)
                - [3.2.12.1. 特征描述](#32121-特征描述)
                - [3.2.12.2. 刺激/响应序列](#32122-刺激响应序列)
                - [3.2.12.3. 相关功能需求](#32123-相关功能需求)
            - [3.2.13. 浏览订单](#3213-浏览订单)
                - [3.2.13.1. 特征描述](#32131-特征描述)
                - [3.2.13.2. 刺激/响应序列](#32132-刺激响应序列)
                - [3.2.13.3. 相关功能需求](#32133-相关功能需求)
            - [3.2.14. 订单执行](#3214-订单执行)
                - [3.2.14.1. 特征描述](#32141-特征描述)
                - [3.2.14.2. 刺激/响应序列](#32142-刺激响应序列)
                - [3.2.14.3. 相关功能需求](#32143-相关功能需求)
            - [3.2.15. 查看营业额](#3215-查看营业额)
                - [3.2.15.1. 特征描述](#32151-特征描述)
                - [3.2.15.2. 刺激/相应序列](#32152-刺激相应序列)
                - [3.2.15.3. 相关功能需求](#32153-相关功能需求)
            - [3.2.16. 用户管理（这里把那三个合成一个了？）](#3216-用户管理这里把那三个合成一个了)
                - [3.2.16.1. 特征描述](#32161-特征描述)
                - [3.2.16.2. 刺激/响应序列](#32162-刺激响应序列)
                - [3.2.16.3. 相关功能需求](#32163-相关功能需求)
            - [3.2.17. 添加酒店及其工作人员](#3217-添加酒店及其工作人员)
                - [3.2.17.1. 特征描述](#32171-特征描述)
                - [3.2.17.2. 刺激/响应序列](#32172-刺激响应序列)
                - [3.2.17.3. 相关功能需求](#32173-相关功能需求)
            - [3.2.18. 维护促销政策](#3218-维护促销政策)
                - [3.2.18.1. 特征描述](#32181-特征描述)
                - [3.2.18.2. 刺激/响应序列](#32182-刺激响应序列)
                - [3.2.18.3. 相关功能需求](#32183-相关功能需求)
            - [3.2.19. 管理异常订单](#3219-管理异常订单)
                - [3.2.19.1. 特征描述](#32191-特征描述)
                - [3.2.19.2. 刺激/相应序列](#32192-刺激相应序列)
                - [3.2.19.3. 相关功能需求](#32193-相关功能需求)
            - [3.2.20. 充值信用值](#3220-充值信用值)
                - [3.2.20.1. 特征描述](#32201-特征描述)
                - [3.2.20.2. 刺激/相应序列](#32202-刺激相应序列)
                - [3.2.20.3. 相关功能需求](#32203-相关功能需求)
        - [3.3. 非功能需求](#33-非功能需求)
            - [3.3.1. 安全性](#331-安全性)
            - [3.3.2. 可维护性](#332-可维护性)
            - [3.3.3. 易用性](#333-易用性)
            - [3.3.4. 可靠性](#334-可靠性)
            - [3.3.5. 业务规则](#335-业务规则)
            - [3.3.6. 约束](#336-约束)
        - [3.4. 数据需求](#34-数据需求)
            - [3.4.1. 数据定义](#341-数据定义)
            - [3.4.2. 默认数据](#342-默认数据)
            - [3.4.3. 数据格式要求](#343-数据格式要求)
        - [3.5. 其他](#35-其他)

<!-- /TOC -->

## 1. 引言

### 1.1. 目的

本文档描述了互联网酒店预订系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。除特殊说明外，本文档所包含的需求都是高优先级需求。

### 1.2. 范围

互联网酒店预订系统是为旅客和酒店管理方开发的业务系统，开发目标是帮助旅客快速比较和选择酒店，进行酒店预订，同时帮助酒店管理方处理酒店业务，包括酒店信息管理、客房管理、优惠政策和订单管理。

通过互联网酒店预订系统的应用，期望降低酒店预订过程中双方的风险，提高酒店的销售额和利润，增加旅客满意度并吸引回头客。

### 1.3. 参考文献

1. IEEE标准。
2. 互联网酒店预订系统用例文档。
3. 骆斌，丁二玉，刘钦 - 软件工程与计算 . 卷二 , 软件开发的技术基础 : Software engineering and computing . Volume Ⅱ , Fundamentals of software development technology。

## 2. 总体描述

### 2.1. 项目前景

#### 2.1.1. 背景与机遇

随着工作和生活节奏的加快，人们的差旅出行需要迅速提升，但是传统的线下酒店预订模式有着很多的不便之处。首先是传统的酒店预订目的地大多为外地，旅客难以了解当地酒店情况，无法按照自身需求选择最合适的酒店；其次提前预订的双方都有风险，酒店担心恶意预订，旅客担心酒店不符合预期；再次是酒店无法及时掌握客户的行程变化，需要频繁的长途联系；并且旅客过往的出行经历很难为未来的出行提供相应的参考。

互联网酒店预订系统就是为了满足酒店预订行业新的业务发展需求而开发的，它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采用实时通信的方式完成数据交换。

#### 2.1.2. 业务需求

- BR1：在系统使用3个月后，酒店销售额要提高20%。
  - 最好情况：30%
  - 最可能情况：20%
  - 最坏情况：10%
- BR2：在系统使用3个月后，酒店人力成本要降低15%。
- BR3：在系统使用3个月后，酒店退订比要降低30%。

### 2.2. 项目功能

- SF1：浏览酒店信息。
- SF2：预订酒店房间。
- SF3：管理个人信息。
- SF4：管理订单信息。
- SF5：管理酒店信息。
- SF6：管理客房信息。
- SF7：发展会员，提高顾客回头率。
- SF8：与网站联合进行酒店促销和制定优惠策略。
- SF9：管理网站用户。

### 2.3. 用户特征

| 用户         | 特征                                                         |
| ------------ | ------------------------------------------------------------ |
| 客户         | 网站有多个客户。他们会在任意时段管理个人信息，注册会员，浏览酒店信息，并生成订单。他们每天会进行多次操作，也可能多次中断操作。他们对系统的使用很频繁，希望系统可以保证流畅和便捷。 |
| 酒店工作人员 | 每个酒店有1个工作人员。他们每天进行2-3次客房信息管理，每周进行1-2次酒店促销策略制定，每月进行1次酒店信息管理，他们每天还要进行多次订单管理。酒店工作人员的计算机操作技能较好。 |
| 网站营销人员 | 网站有2-3个网站营销人员，他们他们每周进行1-2次网站促销策略制定。网站营销人员的计算机操作技能较好。 |
| 网站管理人员 | 网站有1个网站管理人员，他每个月进行几次用户管理，添加酒店及其工作人员。网站管理人员的计算机技能很好。 |

### 2.4. 约束

- CON1：系统使用Web界面，进行分布式部署。
- CON2：系统在PC及移动设备上运行。
- CON3：项目要使用持续集成方法进行开发。
- CON4：在开发中，开发者要提交软件需求规格说明文档，设计描述文档和测试报告。
- CON5：系统只有在用户登录后才能使用。

### 2.5. 假设与依赖

- AE1：网络通畅，不会发生故障。
- AE2：所有操作任务的完成时间不会超过1个小时，即使用暂停与中断不会超过1个小时
- AE3：地址中的城市和商圈比较固定，事先被预置在系统数据中，且少量修改直接在后台数据中进行，不需要系统提供维护功能。

## 3. 详细需求描述
### 3.1. 对外接口需求
#### 3.1.1. 用户界面 
顶部功能栏从左到右显示系统图标，首页，个人中心和用户模块（显示头像以及名称，可通过下拉从上到下显示首页，我的信息，退出登录）

UI1 登陆界面：

​	界面中间为登陆注册窗口。

UI2 系统主页：

​	顶部功能栏下方以平铺呈现所有酒店的名称，评分，图片。

UI3 酒店详情页：

​	顶部功能栏下方左侧显示酒店图片，图片旁从上至下显示名称，地址，评分，星级，酒店简介。下方以列表展示房间信息与酒店详情。

UI4 用户主页：

​	顶部功能栏下方为我的信息，我的订单，我的会员模块，我的信息模块从上至下展示了用户名，邮箱，手机号，信用值（除了信用值外都可修改），我的订单模块以表格形式呈现具体订单信息，并且提供撤销订单的功能功能，我的会员模块为信用值合格的用户提供注册会员的功能。

#### 3.1.2. 通信接口

CI: 客户端与服务器使用HTTP的方式进行通信。

### 3.2. 功能需求
#### 3.2.1. 用户基本信息管理
##### 3.2.1.1. 特征描述

```
当某个用户请求查看个人信息时，系统检验用户身份，显示用户基本信息，允许用户维护自身基本信息（姓名，名称，密码以及联系方式）、浏览未执行订单、已执行订单、异常订单以及已撤销订单
```

##### 3.2.1.2. 刺激/响应序列

```
刺激：用户请求查看个人信息

响应：系统检验用户身份，并显示用户的基本个人信息

刺激：用户请求更改个人基本信息

响应：系统提示用户信用值无法修改，并要求用户输入要修改的信息

刺激：用户输入并确认个人基本信息

响应：系统提示个人信息修改成功

刺激：用户请求浏览未执行订单

响应：系统显示该用户未执行的订单

刺激：用户请求并确认撤销未执行订单

响应：系统提示用户撤销成功，并更改订单状态，根据情况更改用户信用值

刺激：用户请求浏览已执行的订单

响应：系统显示该用户已执行的订单

刺激：用户请求浏览异常订单

响应：系统显示该用户的异常订单

刺激：用户请求浏览已撤销订单

响应：系统显示该用户已撤销的订单
```

##### 3.2.1.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| UserInformation                                              | 系统允许用户管理个人信息                                     |
| UserInfermation.start                                        | 系统显示用户的个人信息                                       |
| UserInformation.change<br/>UserInformation.change.input<br/>UserInformation.change.confirm<br/>UserInformation.change.updateAndShow<br/>UserInformation.change.invalid | 系统允许用户更改自身的个人信息<br/>系统允许用户键盘输入要更改的个人信息<br/>用户确认更改后的个人信息<br/>系统更新并显示用户更改后的个人信息<br/>当用户尝试更改信用值时，系统提示信用值无法更改 |
| UserInformation.UnfinishedOrder.show<br/>UserInformation.UnfinishedOrder.return<br/>UserInformation.UnfinishedOrder.return.show<br/>UserInformation.UnfinishedOrder.lateOrder | 系统显示用户未执行订单<br/>在用户请求撤销未执行订单时，系统更改订单状态<br/>在更改订单状态后，系统再次显示未执行订单<br/>在撤销订单时间与订单执行时间间隔小于6小时时，系统更改用户信用值 |
| UserInformation.FinishedOrder                                | 在用户请求浏览已执行订单时，系统显示已执行订单               |
| UserInformation.ExcepitionalOrder                            | 在用户请求浏览异常订单时，系统显示异常订单                   |
| UserInformation.ReturnedOrder                                | 在用户请求浏览已撤销订单时，系统显示已撤销订单               |

#### 3.2.2. 注册会员

##### 3.2.2.1. 特征描述

```
用户请求注册会员，系统开始处理注册会员的请求
```

##### 3.2.2.2. 刺激/响应序列

```
刺激：用户请求注册会员

响应：系统跳转到注册会员界面

刺激：用户选择注册会员类型（普通，企业）

响应：系统根据不同类型，进行不同的信息收集，普通会员需要填写个人生日，企业会员需要填写企业名称

刺激：用户填写完会员信息，选择确定

响应：系统将用户添加至会员列表中，显示注册成功
```

##### 3.2.2.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| VIP.Register.Request                                         | 用户请求注册会员                                             |
| VIP.Type.Show<br>VIP.Type.Choose<br>VIP.Form.FillIn<br>VIP.Form.Confirm<br>VIP.Register.Success | 系统显示可以注册的会员类型<br>用户选择注册的会员类型<br>用户填写会员表单<br>用户确定信息无误，选择确认<br>系统显示注册成功，并且记录会员信息 |
| VIP.Type.Person<br>VIP.Type.Company                          | 用户选择注册普通会员，系统要求用户输入生日<br>用户选择注册企业会员，系统要求用户输入企业名称 |

#### 3.2.3. 浏览酒店信息

##### 3.2.3.1. 特征描述

```
当用户请求浏览特定商圈和地址的酒店信息时，系统处理该请求，并且将特定商圈和地址的酒店信息以列表形式展示给用户
```

##### 3.2.3.2. 刺激/相应序列

```
刺激：用户选择特定商圈与地址后请求浏览酒店订单

响应：系统查找并以列表形式返回对应商圈与地址的酒店信息，按照某种方式进行排序，例如价格，星级，评分

刺激：用户请求查看某一酒店细节信息

响应：系统根据请求，向用户展示酒店的详细信息，如详细地址，评价，房间类型，历史订单等

刺激：用户离开酒店详情页面

响应：系统返回酒店列表页面

刺激：用户选择排序条件

响应：系统根据排序条件，更新酒店列表并且显示
```

##### 3.2.3.3. 相关功能需求

| 编号                                                        | 需求描述                                                     |
| ----------------------------------------------------------- | ------------------------------------------------------------ |
| HotelList.Start                                             | 系统允许用户查看酒店列表                                     |
| HotelList.Input.bizRegion<br>HotelList.Input.SortConditions | 用户输入具体的商圈，系统按照默认方式显示该商圈的酒店信息<br>用户选择排序的条件，系统根据条件返回酒店列表信息 |
| HotelList.Show.List<br>HotelList.Show.Detail                | 用户输入具体的商圈后以及排序条件，系统筛选出满足的酒店，排序后以列表形式展示<br>用户选择某一具体的酒店，系统显示该酒店详情界面 |

#### 3.2.4. 管理收藏夹

##### 3.2.4.1. 特征描述

```
当用户请求查看收藏夹时，系统显示收藏夹信息，并允许用户管理收藏夹
```

##### 3.2.4.2. 刺激/相应序列

```
刺激：用户选择查看收藏夹

响应：系统以列表形式显示收藏夹内容

刺激：用户查看收藏夹中对应酒店的详细信息

响应：系统显示对应酒店的详细信息

刺激：用户请求移除选定的酒店

响应：系统将对应酒店从用户收藏夹中删除
```

##### 3.2.4.3. 相关功能需求

| 编号                                         | 需求描述                                                     |
| -------------------------------------------- | ------------------------------------------------------------ |
| Favorites.Start                              | 系统允许用户管理收藏夹                                       |
| Favorites.Show.List<br>Favorites.Show.Detail | 系统以列表形式展示收藏夹中酒店<br>系统显示对应酒店的详细信息 |
| Favorites.Remove                             | 系统移除用户选定的酒店                                       |

#### 3.2.5. 预订酒店

##### 3.2.5.1. 特征描述

```
一个经过登录验证的用户可以选择预订酒店
```

##### 3.2.5.2. 刺激/相应序列

```
刺激：用户在酒店详情界面选择预订酒店

响应：系统显示预订酒店表单填写界面

刺激：用户填写信息并确认预订

响应：系统生成订单，更新酒店信息及订单信息

刺激：用户取消预订

响应：系统删除当前表单信息，返回酒店详情界面
```

##### 3.2.5.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Booking.Start                                                | 系统进入预订酒店页面                                         |
| Booking.Input<br>Booking.Input.Check<br>Booking.Input.Invalid<br/>Booking.Input.Cancel<br/>Booking.Input.Confirm | 系统允许用户填写表单<br>系统检查用户的输入内容是否合法<br>输入信息不符合格式，系统提示请重新输入<br>用户取消预订，系统删除表单信息并返回酒店详情页面<br>用户确定提交表单信息，系统生成订单 |
| Booking.Order.Show<br>Booking.Order.Cancel<br/>Booking.Order.Confirm | 系统显示用户提交的信息生成的订单<br>用户取消预订，系统删除订单并返回酒店详情页面<br>用户确认预订，系统更新酒店信息及订单信息 |

#### 3.2.6. 查看订单

##### 3.2.6.1. 特征描述

```
用户正常登录后，系统允许用户查看自己的订单信息
```

##### 3.2.6.2. 刺激/相应序列

```
刺激：用户请求查看订单

响应：系统显示用户的订单列表

刺激：用户查看特定订单的详细信息

响应：系统显示相应订单的详细信息
```

##### 3.2.6.3. 相关功能需求

| 编号                                         | 需求描述                                                   |
| -------------------------------------------- | ---------------------------------------------------------- |
| OrderView.Show.List<br>OrderView.Show.Detail | 系统显示用户的订单列表<br>系统显示用户选择的订单的详细信息 |

#### 3.2.7. 取消订单

##### 3.2.7.1. 特征描述

```
用户正常登录后，可以选择取消未入住订单
```

##### 3.2.7.2. 刺激/相应序列

```
刺激：用户选择取消订单

响应：系统显示对应酒店的退订政策，提示信用值的变化

刺激：用户确认取消订单

响应：系统删除订单，更新用户信用值，订单信息，酒店信息

刺激：用户放弃取消订单

响应：系统返回查看订单详情页面
```

##### 3.2.7.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Order.Cancel                                                 | 系统允许用户取消订单                                         |
| Order.Cancel.Show<br>Order.Cancel.Giveup<br>Order.Cancel.Confirm | 系统显示对应酒店的退订政策，提示信用值的变化<br>用户放弃取消订单操作，系统返回查看订单详情页面<br>用户确认取消订单，系统删除订单，更新用户信用值，订单信息，酒店信息 |

#### 3.2.8. 工作人员基本信息管理

##### 3.2.8.1. 特征描述

```
工作人员正常登录系统后，系统允许工作人员对自己的个人信息进行管理，如姓名，手机号码
```

##### 3.2.8.2. 刺激/响应序列

```
刺激：酒店工作人员打开个人信息界面

响应：系统显示工作人员的基本信息，账号，姓名，性别，年龄，手机号码

刺激：酒店工作人员选择更改个人信息

响应：系统显示可更改的个人信息表单，姓名，性别，年龄，手机号码

刺激：酒店工作人员更改个人信息并确认提交

响应：系统更新工作人员的基本信息并重新显示

刺激：酒店工作人员中途取消更改个人信息

响应：系统结束更改个人信息界面，并显示工作人员个人信息
```

##### 3.2.8.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Worker.Information.View                                      | 系统显示酒店工作人员的基本信息                               |
| Worker.Information.Update                                    | 酒店工作人员请求修改个人信息                                 |
| Worker.Information.Update.Input<br>Worker.Information.Update.Cancel<br>Worker.Information.Update.Submit | 系统允许酒店工作人员在更改个人信息是使用鼠标键入<br>酒店工作人员取消更改个人信息，系统显示工作人员个人信息，参见Worker.Information.View<br>酒店工作人员确认修改个人信息后，系统更改工作人员个人信息，参见Worker.Information.Submit |
| Worker.Information.Submit<br>Worker.Information.Submit.Check<br>Worker.Information.Submit.Update<br>Worker.Information.Submit.Close | 系统提交酒店工作人员更改的个人信息<br>系统检查工作人员更改的个人信息是否符合规则，参见Worker.Information.Check<br>检查个人信息无误后，系统更新工作人员的个人信息<br>系统更新工作人员个人信息后，显示工作人员个人信息，参见Worker.Information.View |
| Worker.Information.Check<br>Worker.Information.Incomplete<br>Worker.Information.Invalid | 系统检查酒店工作人员更改的个人信息是否符合规定，参见3.4.3数据格式需求<br>如果个人信息不完整，系统提示个人信息不完整，请补充后提交<br>如果个人信息不符合3.4.3数据格式需求，系统提示数据格式不正确 |

#### 3.2.9. 维护酒店基本信息

##### 3.2.9.1. 特征描述

```
一个经过验证的酒店工作人员可以维护酒店基本信息，包括地址、所属商圈、简介、设施服务、星级。
优先级：高
```


##### 3.2.9.2. 刺激/响应序列

```
刺激：酒店工作人员请求维护酒店基本信息

响应：系统显示酒店的基本信息，包括地址、所属商圈、简介、设施服务、星级

刺激：酒店工作人员修改并提交酒店基本信息，包括地址、所属商圈、简介、设施服务、星级

响应：系统显示修改后的酒店基本信息，包括地址、所属商圈、简介、设施服务、星级

刺激：酒店工作人员发现信息修改有误，请求重新修改酒店基本信息

响应：系统关闭酒店基本信息预览，返回酒店基本信息修改界面

刺激：酒店工作人员确认修改酒店基本信息

响应：系统更新酒店基本信息并提示酒店基本信息修改成功

刺激：酒店工作人员结束维护酒店基本信息任务

响应：系统关闭维护酒店基本信息
```


##### 3.2.9.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Hotel.Information.View                                       | 系统显示酒店基本信息                                         |
| Hotel.Information.Modify                                     | 酒店工作人员请求维护酒店基本信息，系统显示酒店基本信息维护界面 |
| Hotel.Information.Modify.Input<br>Hotel.Information.Modify.Input.Cancel<br>Hotel.Information.Modify.Input.Submit<br> | 系统允许酒店工作人员在维护酒店基本信息任务中进行键盘键入<br/>酒店工作人员取消维护酒店基本信息，系统关闭酒店基本信息维护界面，并显示原先酒店基本信息，参见Hotel.Information.View<br>酒店工作人员确认修改酒店基本信息后，系统保存提交的酒店基本信息，参见Hotel.Information.Modify.Submit |
| Hotel.Information.Modify.Submit<br/>Hotel.Information.Modify.Submit.Check<br/>Hotel.Information.Modify.Submit.Update<br/>Hotel.Information.Modify.Submit.Close | 系统提交酒店工作人员修改的酒店基本信息<br>在更新酒店工作人员修改的酒店基本信息之前，检查酒店基本信息，参见Hotel.Information.Modify.Check<br>酒店基本信息检查通过后，系统更新酒店基本信息<br>酒店工作人员结束酒店基本信息维护任务且系统更新酒店基本信息后，系统关闭酒店基本信息维护任务 |
| Hotel.Information.Modify.Check<br/>Hotel.Information.Modify.Check.Exist<br/>Hotel.Information.Modify.Check.Incomplete<br/>Hotel.Information.Modify.Check.Invalid | 系统检查酒店基本信息，参见3.4.3数据格式要求<br>如果酒店名字已存在，则提示该酒店名称已存在<br>如果酒店基本信息不完整，系统提示酒店工作人员酒店基本信息输入不完整<br>如果数据格式错误，系统提示数据格式错误 |


#### 3.2.10. 管理客房信息

##### 3.2.10.1. 特征描述

```
一个经过验证的酒店工作人员可以管理客房信息，包括房型、房间数、可住人数、床位数、原始价格、备注。酒店工作人员可以增加新的客房类型以及改变已有类型客房的可用数量
优先级：高
```


##### 3.2.10.2. 刺激/响应序列

```
刺激：酒店工作人员请求管理客房信息

响应：系统显示酒店所有房间的信息列表，包括房型，房间数，入住人数，床位数，原始价格

刺激：酒店工作人员请求录入可用客房

响应：系统显示录入可用客房信息界面，包括房型、房间数、可住人数、床位数、原始价格、备注

刺激：酒店工作人员输入可用客房信息，包括房型、房间数、可住人数、床位数、原始价格、备注

响应：系统创建并显示录入的客房信息预览，包括房型、房间数、可住人数、床位数、原始价格、备注

刺激：酒店工作人员发现信息修改有误，请求重新录入可用客房信息

响应：系统关闭客房信息预览，返回录入可用客房界面

刺激：酒店工作人员确认提交可用客房

响应：系统更新客房信息并提示录入可用客房成功

刺激：酒店工作人员结束录入可用客房任务

响应：系统关闭录入可用客房，返回当前酒店的客房列表界面

刺激：酒店工作人员选择特定类型房间，请求更改该房型房间数量

响应：系统显示更改房间数量界面

刺激：酒店工作人员输入新的房间数量，确认更新

响应：系统更新房间剩余数量，显示酒店所有房型信息列表

刺激：酒店工作人员取消更改房型房间数量

响应：系统显示酒店所有房型信息列表

刺激：酒店工作人员选择特定房型，请求删除该房型的房间

响应：系统提示酒店工作人员确认删除

刺激：酒店工作人员取消删除房型

响应：系统显示酒店所有房型信息列表

刺激：酒店工作人员确认删除指定房型

响应：系统在数据库中删除此类型的房间，显示酒店所有房型信息列表
```


##### 3.2.10.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Hotel.Room.View                                              | 系统显示当前酒店的客房列表                                   |
| Hotel.Room.Add                                               | 酒店工作人员请求录入可用客房，系统显示录入可用客房界面       |
| Hotel.Room.Add.Input<br>Hotel.Room.Add.Input.Cancel<br>Hotel.Room.Add.Input.Submit<br> | 系统允许酒店工作人员在录入可用客房任务中进行键盘键入<br/>酒店工作人员取消录入可用客房，系统关闭录入可用客房界面，并显示当前酒店的客房列表，参见Hotel.Room.View<br>酒店工作人员确认录入可用客房后，系统保存录入的客房信息，参见Hotel.Room.Add.Submit |
| Hotel.Room.Add.Submit<br/>Hotel.Room.Add.Submit.Check<br/>Hotel.Room.Add.Submit.Update<br/>Hotel.Room.Add.Submit.Close | 系统提交酒店工作人员录入的可用客房<br>在更新酒店工作人员录入的可用客房之前，检查录入的客房信息，参见Hotel.Room.Add.Check<br>客房信息检查通过后，系统更新录入的可用客房<br>酒店工作人员结束录入可用客房任务且系统更新录入的可用客房后，系统关闭录入可用客房任务 |
| Hotel.Room.Add.Check<br/>Hotel.Room.Add.Check.Incomplete<br/>Hotel.Room.Add.Check.Invalid | 系统检查录入的客房信息，参见3.4.3数据格式要求<br>如果录入的客房信息不完整，系统提示酒店工作人员客房信息输入不完整<br>如果数据格式错误，系统提示数据格式错误 |
| Hotel.Room.Update                                            | 酒店工作人员请求更改某种房型房间的数量                       |
| Hotel.Room.Update.Input<br>Hotel.Room.Update.Input.Cancel<br>Hotel.Room.Update.Input.Submit | 系统允许酒店工作人员在更改房间数量任务中进行键盘键入<br>酒店工作人员取消更改。系统关闭更改界面，显示酒店房间列表，参见Hotel.Room.View<br>酒店工作人员确认改变房间数量后，系统保存房间数量，参见Hotel.Room.Update.Submit |
| Hotel.Room.Update.Submit<br>Hotel.Room.Update.Submit.Check<br>Hotel.Room.Update.Submit.Update<br>Hotel.Room.Update.Submit.Close | 系统提交酒店工作人员更改的房间数量<br>在更新房间数据之前，系统检查房间数量，参见Hotel.Room.Update.Check<br>数量检测通过后，系统更新房间数量<br>系统更新房间数量后，系统关闭更改房间数量任务 |
| Hotel.Room.Update.Check<br>Hotel.Room.Update.Check.BelowZero | 系统检查输入的房间数量，参见3.4.3数据格式要求<br>如果输入的房间数量小于0，系统提示数据错误 |
| Hotel.Room.Delete<br>Hotel.Room.Delete.Confirm<br>Hotel.Room.Delete.Submit | 酒店工作人员请求删除某种房型<br>酒店工作人员确认删除某种房型的房间<br>在酒店工作人员确认后，系统更新酒店的房型信息列表并显示，参见Hotel.Room.View |


#### 3.2.11. 制定酒店促销策略

##### 3.2.11.1. 特征描述

```
需要制定酒店促销策略时，一个经过验证的酒店工作人员开始制定酒店促销策略。
优先级：低
```


##### 3.2.11.2. 刺激/响应序列

```
刺激：酒店工作人员请求修改生日特惠折扣

响应：系统显示生日特惠折扣修改界面

刺激：酒店工作人员输入生日特惠折扣并确认

响应：系统显示修改成功

刺激：酒店工作人员输入不符合规范的生日特惠折扣值

响应：系统显示修改失败

刺激：酒店工作人员取消修改

响应：系统关闭生日特惠折扣修改界面
```


##### 3.2.11.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Hotel.Promotion.BirthdayDiscount.View                        | 系统显示当前酒店的生日特惠折扣                               |
| Hotel.Promotion.BirthdayDiscount.Modify                      | 酒店工作人员请求修改酒店的生日特惠折扣，系统显示酒店生日特惠折扣修改界面 |
| Hotel.Promotion.BirthdayDiscount.Modify.Input<br>Hotel.Promotion.BirthdayDiscount.Modify.Input.Cancel<br>Hotel.Promotion.BirthdayDiscount.Modify.Input.Submit | 系统应该允许酒店工作人员在修改生日特惠折扣时进行键盘键入<br>当酒店工作人员取消修改生日特惠折扣时，系统关闭修改生日特惠折扣界面，并显示当前酒店的生日特惠折扣，参见Hotel.Promotion.BirthdayDiscount.View<br>酒店工作人员确认修改生日特惠折扣，系统保存并更新生日特惠折扣，参见Hotel.Promotion.BirthdayDiscount.Modify.Submit |
| Hotel.Promotion.BirthdayDiscount.Modify.Submit<br>Hotel.Promotion.BirthdayDiscount.Modify.Submit.Check<br>Hotel.Promotion.BirthdayDiscount.Modify.Submit.Update<br>Hotel.Promotion.BirthdayDiscount.Modify.Submit.Close | 系统保存更新生日特惠折扣<br>系统在更新生日特惠折扣之前应当先检查生日特惠折扣，参见Hotel.Promotion.BirthdayDiscount.Modify.Check<br>在检查通过后，系统更新生日特惠折扣<br>酒店工作人员结束修改生日特惠折扣任务，系统关闭修改生日特惠折扣任务 |
| Hotel.Promotion.BirthdayDiscount.Modify.Check<br>Hotel.Promotion.BirthdayDiscount.Modify.Check.Invalid | 系统检查生日特惠折扣数据，参见3.4.3数据格式要求<br/>如果数据格式错误，系统提示数据格式错误 |

#### 3.2.12. 更新退房信息

##### 3.2.12.1. 特征描述

```
在线上预定的用户退房时，系统允许酒店工作人员更新订单的退房信息
```

##### 3.2.12.2. 刺激/响应序列

```
刺激：酒店工作人员制定已执行订单并选择退房

响应：系统提示工作人员是否退房

刺激：酒店工作人员确认退房

响应：系统更新订单的实际退房时间，更新酒店对应房型的可用房间数量，提示退房成功

刺激：酒店工作人员取消退房操作

响应：系统结束退房操作，显示酒店订单列表
```

##### 3.2.12.3. 相关功能需求

| 编号                  | 需求描述                                                     |
| --------------------- | ------------------------------------------------------------ |
| Room.Checkout         | 系统允许工作人员进行退房操作                                 |
| Room.Checkout.Confirm | 系统提示工作人员是否确认退房                                 |
| Room.Checkout.Update  | 在工作人员确认后，系统更新订单退房时间，酒店可用房间数量，并提示工作人员退房成功 |
| Room.Checkout.Cancel  | 酒店工作人员取消退房操作，系统显示酒店订单列表               |

#### 3.2.13. 浏览订单

##### 3.2.13.1. 特征描述

```
当工作人员请求浏览酒店的订单时，系统允许工作人员浏览本酒店未执行的预定订单，已执行的订单，异常以及已撤销的订单
```

##### 3.2.13.2. 刺激/响应序列

```
刺激：酒店工作人员请求浏览酒店订单

响应：系统核验工作人员身份，成功后显示浏览未执行订单，已执行订单，异常订单的选项

刺激：酒店工作人员请求浏览未执行的预定订单

响应：系统显示酒店为执行的订单列表

刺激：酒店工作人员请求浏览已执行的预定订单

响应：系统显示酒店已执行的订单列表

刺激：酒店工作人员请求浏览异常和已撤销订单

响应：系统显示酒店异常和已撤销的订单列表
```

##### 3.2.13.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| OrderOverview                                                | 系统允许酒店工作人员浏览酒店的订单列表                       |
| OrderOverview.Worker.check<br/>OrderOverview.Worker.invalid<br/>OrderOverview.Worker.valid | 当酒店工作人员请求浏览订单时，系统核验工作人员身份<br/>当工作人员信息不正确时，系统提示无权限查看<br/>当工作人员信息正确时，系统显示三个选项 |
| OrderOverview.UnfinishedOrder                                | 当酒店工作人员请求浏览未执行订单时，系统显示未执行订单列表   |
| OrderOverview.FinishedOrder                                  | 当酒店工作人员请求浏览已执行订单时，系统显示已执行订单列表   |
| OderOverview.ExceptionalOrReturnedOrder                      | 当酒店工作人员请求浏览异常或已撤销订单时，系统显示异常或已撤销订单列表 |

#### 3.2.14. 订单执行

##### 3.2.14.1. 特征描述

```
当用户在酒店前完成入住后，工作人员将订单状态更改，系统将增加用户的信用值
当用户在订单执行时间过后还未入住，系统将订单更改为异常订单并扣除一定信用值，酒店工作人员可进行延迟入住
```

##### 3.2.14.2. 刺激/响应序列

```
刺激：酒店工作人员确认用户已入住

响应：系统将订单状态更改为已执行，并增加用户信用值

刺激：时间超过订单执行的最晚时间，用户未入住

响应：系统将订单状态更改为异常，并减少用户信用值

刺激：工作人员将异常订单标记为延迟入住

响应：系统将订单状态更改为已执行，并归还扣除的信用值
```

##### 3.2.14.3. 相关功能需求

| 编号                                                    | 需求描述                                                     |
| ------------------------------------------------------- | ------------------------------------------------------------ |
| ExecuteOrder.checkIn                                    | 当用户在最晚执行时间之前入住时，系统将订单状态更改为已执行，并为用户增加等同于订单价值的信用值 |
| ExecuteOrder.outOfTime<br/>ExecuteOrder,outOfTime.delay | 当时间超过最晚执行时间，系统将订单状态更改为异常，并扣除等同于订单价值的信用值<br/>当酒店工作人员将异常订单标志为“延迟入住"，系统将订单状态更改为已执行，并归还等同于订单价值的信用值 |

#### 3.2.15. 查看营业额

##### 3.2.15.1. 特征描述

```
当酒店工作人员选择查看酒店营业额的时候，系统显示酒店相关营业额
```

##### 3.2.15.2. 刺激/相应序列

```
刺激：酒店工作人员选择查看酒店营销额

响应：系统显示酒店累计营业额及本周营业额
```

##### 3.2.15.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| SalesOverview                                                | 系统允许酒店工作人员查看对应酒店的营业额                     |
| SalesOverview.worker.check<br>SalesOverview.worker.invalid<br/>SalesOverview.worker.show | 当酒店工作人员请求查看酒店营业额时，系统核验工作人员身份<br/>当工作人员信息不正确时，系统提示无权限查看<br/>当工作人员信息正确时，系统显示酒店营业额，参见SalesOverview.worker.show |
| SalesOverview.show                                           | 系统显示酒店累计营业额及本周营业额                           |

#### 3.2.16. 用户管理

##### 3.2.16.1. 特征描述

```
在需要管理网站用户时，一个验证身份的网站管理人员可以添加网站营销人员，查询和更改客户、酒店工作人员信息和网站营销人员
```

##### 3.2.16.2. 刺激/响应序列

```
刺激：网站管理人员请求管理用户

响应：系统检验网站管理人员身份，成功后显示客户、酒店工作人员、网站营销人员的选项

刺激：网站管理人员请求查询客户信息

响应：系统显示客户信息

刺激：网站管理人员请求修改客户信息

响应：系统显示客户信息修改表单

刺激：网站管理人员修改客户信息并提交

响应：系统显示修改后的客户信息

刺激：网站管理人员请求查询酒店工作人员信息

响应：系统显示酒店工作人员信息

刺激：网站管理人员请求修改酒店工作人员信息

响应：系统显示酒店工作人员信息修改表单

刺激：网站管理人员修改酒店工作人员信息并提交

响应：系统显示修改后的酒店工作人员信息

刺激：网站管理人员请求查询网站营销人员信息

响应：系统显示网站营销人员信息

刺激：网站管理人员请求修改网站营销人员信息

响应：系统显示网站营销人员信息修改表单

刺激：网站管理人员修改网站营销人员信息并提交

响应：系统显示修改后的网站营销人员信息

刺激：网站管理人员取消修改信息

响应：系统返回修改信息表单界面

刺激：网站管理员请求添加网站营销人员

响应：系统显示网站营销人员信息输入界面

刺激：网站管理员输入网站营销人员信息并提交

响应：系统显示添加成功，并显示新的网站营销人员的信息
```

##### 3.2.16.3. 相关功能需求

| 编号                               | 需求描述                                                     |
| ---------------------------------- | ------------------------------------------------------------ |
| Admin.Customer.View                | 系统允许网站管理员查看客户信息                               |
| Admin.Customer.Modify              | 系统允许网站管理员修改客户信息                               |
| Admin.Customer.Modify.Input        | 系统允许网站管理员通过键盘修改客户信息                       |
| Admin.Customer.Modify.Submit       | 系统能够保存网站管理员修改的客户信息                         |
| Admin.Customer.Modify.Submit.Check | 系统在保存修改客户信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Staff.View                   | 系统允许网站管理员查看酒店工作人员信息                       |
| Admin.Staff.Modify                 | 系统允许网站管理员修改酒店工作人员信息                       |
| Admin.Staff.Modify.Input           | 系统允许网站管理员通过键盘修改酒店工作人员信息               |
| Admin.Staff.Modify.Submit          | 系统能够保存网站管理员修改的酒店工作人员信息                 |
| Admin.Staff.Modify.Submit.Check    | 系统在保存修改酒店工作人员信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Marketer.View                | 系统允许网站管理员查看网站营销人员信息                       |
| Admin.Marketer.Modify              | 系统允许网站管理员修改网站营销人员信息                       |
| Admin.Marketer.Modify.Input        | 系统允许网站管理员通过键盘修改网站营销人员信息               |
| Admin.Marketer.Modify.Submit       | 系统能够保存网站管理员修改的网站营销人员信息                 |
| Admin.Marketer.Modify.Submit.Check | 系统在保存修改网站营销人员信息前对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Marketer.Add                 | 系统允许网站管理人员添加网站营销人员                         |
| Admin.Marketer.Add.Input           | 系统允许网站管理人员通过键盘输入营销人员信息                 |
| Admin.Marketer.Add.Submit          | 系统能保存网站管理人员添加的营销人员信息                     |
| Admin.Marketer.Add.Submit.Check    | 系统在保存新的网站营销人员信息前对信息进行检查，参见3.4.3数据格式定义 |

#### 3.2.17. 添加酒店及其工作人员

##### 3.2.17.1. 特征描述

```
在需要添加新的酒店时，一个验证身份的网站管理员可以添加酒店以及其工作人员信息
```

##### 3.2.17.2. 刺激/响应序列

```
刺激：网站管理人员请求添加酒店及其工作人员

响应：系统检验管理员身份，成功后显示酒店信息表单

刺激：网站管理员输入酒店信息并提交

响应：系统显示添加成功并显示添加酒店的信息

刺激：网站管理员请求添加工作人员

响应：系统显示工作人员表单

刺激：网站管理员输入工作人员信息并提交

响应：系统显示添加成功，并返回添加的工作人员信息

刺激：网站管理员取消添加

响应：系统结束添加任务
```

##### 3.2.17.3. 相关功能需求

| 编号                         | 需求描述                                                     |
| ---------------------------- | ------------------------------------------------------------ |
| Admin.Hotel.Add              | 系统允许网站管理人员添加新的酒店                             |
| Admin.Hotel.Add.Input        | 系统允许网站管理人员通过键盘输入酒店信息                     |
| Admin.Hotel.Add.Submit       | 系统可以保存网站管理人员添加的酒店信息                       |
| Admin.Hotel.Add.Check        | 系统在保存新的酒店信息时对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Hotel.Staff.Add        | 系统允许网站管理员为酒店添加一个工作人员                     |
| Admin.Hotel.Staff.Add.Input  | 系统允许网站管理人员通过键盘输入工作人员信息                 |
| Admin.Hotel.Staff.Add.Submit | 系统可以保存网站管理人员添加的工作人员信息                   |
| Admin.Hotel.Staff.Add.Check  | 系统在保存工作人员信息时对信息进行检查，参见3.4.3数据格式定义 |
| Admin.Hotel.Staff.Add.Cancle | 系统结束添加酒店任务                                         |

#### 3.2.18. 维护促销政策

##### 3.2.18.1. 特征描述

```
在需要制定促销策略时，一个经过验证的管理员开始制定促销策略，可以在特定期间打折，对会员打折，制定会员制度

优先级：低
```


##### 3.2.18.2. 刺激/响应序列

```
刺激：网站营销人员请求制定网站促销策略

响应：系统验证网站营销人员身份，成功后显示促销策略选项（会员类型、折扣）

刺激：网站营销人员选择限时优惠

响应：系统返回限时优惠填写表单

刺激：网站营销人员输入活动起始时间、优惠折扣并确认

响应：系统显示制定成功

刺激：网站营销人员选择会员特权

响应：系统返回会员特权表单

刺激：网站营销人员填写表单（会员类型、对应折扣）并确认

响应：系统显示制定成功

刺激: 网站营销人员选择会员制度

响应：系统返回会员制度表单

刺激：网站营销人员填写表单（包括每个等级会员需要的经验、以及对应的折扣）并确认

响应：系统显示制定成功

刺激：网站营销人员输入不符合规范的促销信息

响应：系统显示修改失败

刺激：网站营销人员取消修改

响应：系统关闭制定促销策略任务
```

##### 3.2.18.3. 相关功能需求

| 编号                 | 需求描述                                                     |
| -------------------- | ------------------------------------------------------------ |
| Update.Input         | 系统应允许网站营销人员在制定促销策略任务中进行键盘输入       |
| Update.Input.Cancel  | 在网站营销人员取消修改时，系统关闭当前任务                   |
| Update.Input.Submit  | 在管理员结束修改任务后，系统关闭修改任务，参见Update.Submit  |
| Update.Submit        | 系统应该允许网站营销人员提交促销策略信息                     |
| Update.Submit.Check  | 在网站营销人员提交促销策略信息时，系统检查促销策略信息，参见Update.Check |
| Update.Submit.Update | 在网站营销人员提交促销策略信息时，系统更新促销策略           |
| Update.Check         | 系统检查促销策略的信息，参见数据格式要求Format1、Format6     |
| Update.Check.Invalid | 如果数据格式错误，系统提示数据格式错误                       |

#### 3.2.19. 管理异常订单

##### 3.2.19.1. 特征描述

```
在需要管理异常订单时，一个验证的网站营销人员可以浏览异常订单，处理申诉订单。
```

##### 3.2.19.2. 刺激/相应序列

```
刺激：网络营销人员请求管理异常订单

响应：系统验证网站营销人员身份，并返回异常订单列表

刺激：网站营销人员选择查看申诉订单

响应：系统返回申诉订单

刺激：网站营销人员选择撤回申诉订单

响应：系统恢复用户信用值，更新该订单状态为已撤销
```

##### 3.2.19.3. 相关功能需求

| 编号                            | 需求描述                 |
| ------------------------------- | ------------------------ |
| Marketer.AbnormalOrder.Show     | 系统展示异常订单         |
| Marketer.AbnormalOrder.Appeal   | 系统展示申诉订单         |
| Marketer.AbnormalOrder.Withdraw | 系统可以撤回合理申诉订单 |
| Marketer.AbnormalOrder.Cancle   | 系统结束管理异常订单任务 |

#### 3.2.20. 充值信用值

##### 3.2.20.1. 特征描述

```
网站营销人员可以为线下客户充值信用值
```

##### 3.2.20.2. 刺激/相应序列

```
刺激：网站营销人员选择充值信用值

响应：系统返回充值表单（包括用户账号、手机号、信用值）

刺激：网站营销人员填写表单并确认

响应：系统显示充值成功并返回

刺激：网站营销人员填写的账号与手机号不匹配

响应：系统显示账号与手机号不匹配 返回充值信用界面

刺激：网站营销人员充值的信用值大于100

响应：系统显示信用值超出额度 返回充值信用界面

刺激：网站营销人员取消充值

响应：系统返回充值信用界面
```

##### 3.2.20.3. 相关功能需求

| 编号                            | 需求描述                                 |
| ------------------------------- | ---------------------------------------- |
| Marketer.Credit.Recharge        | 系统允许网站营销人员为用户充值信用值     |
| Marketer.Credit.Recharge.Input  | 系统允许网站营销人员通过键盘输入充值信息 |
| Marketer.Credit.Recharge.Submit | 系统可以更新用户信用值                   |
| Marketer.Credit.Recharge.Cancle | 系统结束充值信用值任务                   |
| Marketer.Credit.Recharge.Check  | 系统可以检查网络营销人员输入信息是否合法 |

### 3.3. 非功能需求

#### 3.3.1. 安全性

- Safety1：系统应该只允许经过登录验证的客户操作订单
- Safety2：系统应该按照用户身份验证用户的访问权限：
  - 管理员、工作人员和客户的身份授权参见功能需求

#### 3.3.2. 可维护性

- Modifiability1：如果系统要增加新的管理员功能，要能够在0.15个人月内完成
- Modifiability2：如果系统要增加新的客户服务，要能够在0.3个人月内完成

#### 3.3.3. 易用性

- Usability1：系统允许经过登录验证的客户一个月内免登陆

#### 3.3.4. 可靠性

- Reliability1：在客户端与服务器通讯时，如果网络故障，系统不能出现故障。
  - Reliability1.1：客户端应该检测到故障，并尝试重新连接网络3次，每次15秒。
    - Reliability1.1.1：重新连接后，客户端应该继续之前的工作
    - Reliability1.1.2：如果连接不成功，客户端应该等待5分钟后再次重新连接。
      - Reliability1.1.2.1：重新连接后，客户端应该继续之前的工作
      - Reliability1.1.2.2：如果重新连接仍然不成功，客户端报警

#### 3.3.5. 业务规则

BR1：客户查看酒店信息时将客房已满的酒店显示为房间已满状态

#### 3.3.6. 约束

- IC1：系统能够一天24小时为客户提供预定酒店服务
- IC2：系统要在网络上分布为一个服务器和多个客户端

### 3.4. 数据需求
#### 3.4.1. 数据定义

```
DR1: 系统需要存储客户的基本信息（姓名，用户名，账号，密码，联系方式，信用值，历史订单，会员ID），酒店工作人员和管理员的基本信息（姓名，账号，密码）

DR2: 系统需要存储酒店的基本信息（地址，商圈，简介，设施服务，星级，房间类型，剩余房间数量，房间价格，酒店优惠政策）

DR3: 系统需要存储订单的基本信息（预定人，酒店名称，房间类型，房间数量，入住人数，是否有儿童，特殊需求，最晚执行时间，订单状态，原价格，优惠政策，最终价格）

DR4: 系统需要存储VIP会员的信息（会员ID，会员等级，会员类型，生日，企业名称（仅企业会员需要），特定商圈专属折扣）
```

#### 3.4.2. 默认数据
```
默认数据用于：
```

* 有新客户注册时：

  Default1：历史订单为空

  Default2：信用值为100

  Default3：会员ID为空

#### 3.4.3. 数据格式要求

```
Format1: 优惠策略的折扣必须为小于1的浮点数，如九折表示为0.9。

Format2: 价格的格式必须是：精确到小数点后2位的非负浮点数，单位为RMB 元。

Format3: 入住人数，房间数量的格式必须为：x人/间， 其中x为正整数。

Format4: 是否有儿童的格式必须为：是/否。

Format5: 生日的格式必须是：yyyy-mm-dd, 即：年-月-日。

Format6: 酒店某一房型的房价数量必须大于或等于0.
```

### 3.5. 其他

```
安装需求：

Install1: 分布式部署:用户、酒店工作人员、网站营销人员、网站管理人员分布在不同的
地方，所以要提供各自的应用部署。

Install2: 部署系统时，要初始化用户、酒店工作人员、管理员、酒店信息、订单信息
```
